{"version":3,"file":"static/js/781.ce6423da.chunk.js","mappings":"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","sources":["pages/Wallet/WalletTable.js","pages/Wallet/Wallet.js"],"sourcesContent":["import { Button, Table } from \"antd\";\nimport moment from \"moment\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst WalletTable = ({\n  data,\n  loading,\n  parent,\n  handleDecline,\n  handleApprove,\n  actionLoading,\n}) => {\n  const columns = [\n    {\n      title: \"Cashout account ID\",\n      dataIndex: \"cashout_account_id\",\n      key: \"cashout_account\",\n      render: (cashout_account_id) => <div>{cashout_account_id}</div>,\n    },\n\n    {\n      title: \"Transaction Type\",\n      dataIndex: \"transaction_type\",\n      key: \"transaction_type\",\n    },\n    {\n      title: \"Amount\",\n      dataIndex: \"amount\",\n      key: \"amount\",\n      render: (amount) => `â‚¦${Number(amount).toLocaleString()}`,\n    },\n    {\n      title: \"Transaction Status\",\n      dataIndex: \"status\",\n      key: \"status\",\n    },\n    {\n      title: \"Date Created\",\n      dataIndex: \"created_at\",\n      key: \"created_at\",\n      render: (created_at) => (\n        <span style={{ whiteSpace: \"nowrap\" }}>\n          {\" \"}\n          {moment(created_at).format(\"DD MMM YYYY\")}\n        </span>\n      ),\n    },\n    {\n      title: \"Actions\",\n      key: \"id\",\n      width: 200,\n      render: (category) => (\n        <div style={{ display: \"flex\", gap: \".5rem\" }}>\n          <Button\n            style={{ marginRight: \"5px\" }}\n            title=\"View transaction details\"\n          >\n            <Link to={`/wallet/details/${category?.id}`}>{\"View\"}</Link>\n          </Button>\n\n          {category.transaction_type == \"Money Added\" && (\n            <Button\n              loading={actionLoading}\n              onClick={() => {\n                handleApprove(category);\n              }}\n            >\n              Approve\n            </Button>\n          )}\n\n          {category.transaction_type == \"Money Added\" && (\n            <Button\n              danger\n              loading={actionLoading}\n              onClick={() => {\n                handleDecline(category);\n              }}\n            >\n              Decline\n            </Button>\n          )}\n        </div>\n      ),\n    },\n  ].filter((item) => !item.hidden);\n\n  return (\n    <div>\n      <Table\n        columns={columns}\n        loading={loading}\n        pagination={data?.length > 10 ? true : false}\n        dataSource={data}\n        rowKey=\"id\"\n        scroll={{ x: \"max-content\" }}\n      />\n    </div>\n  );\n};\n\nexport default WalletTable;\n\n// \"id\": 1,\n// \"provider_id\": 4,\n// \"transaction_type\": \"Deposit\",\n// \"transaction_status\": \"Pending\",\n// \"amount\": 3000,\n// \"description\": \"Money Added\",\n// \"deleted_at\": null,\n// \"created_at\": \"2022-09-18T14:57:32.000000Z\",\n// \"updated_at\": \"2022-09-18T14:57:32.000000Z\",\n// \"provider\": {\n//     \"id\": 4,\n//     \"first_name\": \"Justin\",\n//     \"last_name\": \"Bieber\",\n//     \"email\": \"folarin.tunji98@gmail.com\",\n//     \"phone_number\": null,\n//     \"username\": \"Justin9991\",\n//     \"email_verified_at\": \"2022-09-16T11:30:04.000000Z\",\n//     \"account_verified_at\": \"2022-09-16 11:30:04\",\n//     \"user_type\": \"service_provider\",\n//     \"profile_photo_name\": \"francis_747688331.png\",\n//     \"profile_photo_url\": \"https://xpro.getshopeasy.com/storage/uploads/francis_747688331.png\",\n//     \"is_social\": \"0\",\n//     \"social_provider\": null,\n//     \"social_provider_id\": null,\n//     \"location\": null,\n//     \"about\": null,\n//     \"star_rating_count\": null,\n//     \"earnings\": null,\n//     \"created_at\": \"2022-09-16T11:30:04.000000Z\",\n//     \"updated_at\": \"2022-09-18T15:12:05.000000Z\"\n// }\n","import { notification, PageHeader } from 'antd'\nimport React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport WalletTable from './WalletTable'\nimport {\n  declineWithdrawalRequest,\n  approveWithdrawalRequest,\n  getAllWallet,\n} from '../../redux/walletSlice'\n\nconst Wallet = () => {\n  const { wallet } = useSelector((state) => state)\n  const dispatch = useDispatch()\n  const [confirmLoading, setConfirmLoading] = useState(false)\n\n  const handleApprove = ({ id }) => {\n    dispatch(approveWithdrawalRequest(id))\n      .then((response) => {\n        setConfirmLoading(false)\n        if (response.type === 'wallet/transaction/fulfilled') {\n          dispatch(getAllWallet())\n          notification.success({\n            message: ' Transaction approved successfully',\n          })\n        } else if (response.type === 'wallet/approve/rejected') {\n          notification.error({\n            message: response?.payload?.message || 'Error approving transaction, please try again',\n          })\n        }\n      })\n      .catch((error) => {\n        setConfirmLoading(false)\n        notification.error({\n          message: 'Error approving transaction, please try again later',\n        })\n      })\n  }\n\n  const handleDecline = ({ id }) => {\n    dispatch(declineWithdrawalRequest(id))\n      .then((response) => {\n        setConfirmLoading(false)\n        if (response.type === 'wallet/decline/fulfilled') {\n          dispatch(getAllWallet())\n          notification.success({\n            message: ' Transaction declined successfully',\n          })\n        } else if (response.type === 'wallet/decline/rejected') {\n          notification.error({\n            message: response?.payload?.message || 'Error declining transaction, please try again',\n          })\n        }\n      })\n      .catch((error) => {\n        setConfirmLoading(false)\n        notification.error({\n          message: 'Error declining transaction, please try again later',\n        })\n      })\n  }\n\n  useEffect(() => {\n    dispatch(getAllWallet())\n  }, [])\n\n  console.log(wallet)\n\n  return (\n    <div>\n      <PageHeader title='Wallet' />\n      <WalletTable\n        parent={'wallet'}\n        data={wallet.data}\n        loading={wallet.loading}\n        handleDecline={handleDecline}\n        handleApprove={handleApprove}\n        actionLoading={confirmLoading}\n      />\n    </div>\n  )\n}\n\nexport default Wallet\n"],"names":["data","loading","handleDecline","parent","handleApprove","actionLoading","columns","title","dataIndex","key","render","cashout_account_id","amount","Number","toLocaleString","created_at","style","whiteSpace","moment","format","width","category","display","gap","marginRight","to","id","transaction_type","onClick","danger","filter","item","hidden","pagination","length","dataSource","rowKey","scroll","x","wallet","useSelector","state","dispatch","useDispatch","useState","confirmLoading","setConfirmLoading","useEffect","getAllWallet","console","log","declineWithdrawalRequest","then","response","type","notification","message","payload","catch","error","approveWithdrawalRequest"],"sourceRoot":""}