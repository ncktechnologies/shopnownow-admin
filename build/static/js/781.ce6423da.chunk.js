"use strict";(self.webpackChunkxpro=self.webpackChunkxpro||[]).push([[781],{52781:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var a=t(29439),i=t(13085),r=t(39609),l=t(72791),o=t(59434),c=t(87309),d=t(7262),s=t(72426),u=t.n(s),p=t(43504),f=t(80184),g=function(e){var n=e.data,t=e.loading,a=(e.parent,e.handleDecline),i=e.handleApprove,r=e.actionLoading,l=[{title:"Cashout account ID",dataIndex:"cashout_account_id",key:"cashout_account",render:function(e){return(0,f.jsx)("div",{children:e})}},{title:"Transaction Type",dataIndex:"transaction_type",key:"transaction_type"},{title:"Amount",dataIndex:"amount",key:"amount",render:function(e){return"\u20a6".concat(Number(e).toLocaleString())}},{title:"Transaction Status",dataIndex:"status",key:"status"},{title:"Date Created",dataIndex:"created_at",key:"created_at",render:function(e){return(0,f.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[" ",u()(e).format("DD MMM YYYY")]})}},{title:"Actions",key:"id",width:200,render:function(e){return(0,f.jsxs)("div",{style:{display:"flex",gap:".5rem"},children:[(0,f.jsx)(c.Z,{style:{marginRight:"5px"},title:"View transaction details",children:(0,f.jsx)(p.rU,{to:"/wallet/details/".concat(null===e||void 0===e?void 0:e.id),children:"View"})}),"Money Added"==e.transaction_type&&(0,f.jsx)(c.Z,{loading:r,onClick:function(){i(e)},children:"Approve"}),"Money Added"==e.transaction_type&&(0,f.jsx)(c.Z,{danger:!0,loading:r,onClick:function(){a(e)},children:"Decline"})]})}}].filter((function(e){return!e.hidden}));return(0,f.jsx)("div",{children:(0,f.jsx)(d.Z,{columns:l,loading:t,pagination:(null===n||void 0===n?void 0:n.length)>10,dataSource:n,rowKey:"id",scroll:{x:"max-content"}})})},y=t(47460),v=function(){var e=(0,o.v9)((function(e){return e})).wallet,n=(0,o.I0)(),t=(0,l.useState)(!1),c=(0,a.Z)(t,2),d=c[0],s=c[1];return(0,l.useEffect)((function(){n((0,y.rc)())}),[]),console.log(e),(0,f.jsxs)("div",{children:[(0,f.jsx)(r.Z,{title:"Wallet"}),(0,f.jsx)(g,{parent:"wallet",data:e.data,loading:e.loading,handleDecline:function(e){var t=e.id;n((0,y.oi)(t)).then((function(e){if(s(!1),"wallet/decline/fulfilled"===e.type)n((0,y.rc)()),i.Z.success({message:" Transaction declined successfully"});else if("wallet/decline/rejected"===e.type){var t;i.Z.error({message:(null===e||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.message)||"Error declining transaction, please try again"})}})).catch((function(e){s(!1),i.Z.error({message:"Error declining transaction, please try again later"})}))},handleApprove:function(e){var t=e.id;n((0,y.Fg)(t)).then((function(e){if(s(!1),"wallet/transaction/fulfilled"===e.type)n((0,y.rc)()),i.Z.success({message:" Transaction approved successfully"});else if("wallet/approve/rejected"===e.type){var t;i.Z.error({message:(null===e||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.message)||"Error approving transaction, please try again"})}})).catch((function(e){s(!1),i.Z.error({message:"Error approving transaction, please try again later"})}))},actionLoading:d})]})}}}]);
//# sourceMappingURL=781.ce6423da.chunk.js.map