{"version":3,"file":"static/js/244.59d4c1f7.chunk.js","mappings":"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","sources":["pages/Transactions/TransactionsTable.js","pages/Transactions/Transactions.js"],"sourcesContent":["import { Button, Table } from 'antd'\nimport moment from 'moment'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst TransactionsTable = ({\n  data,\n  loading,\n  parent,\n  handleDecline,\n  handleApprove,\n  actionLoading,\n}) => {\n  const columns = [\n    {\n      title: 'Provider',\n      dataIndex: 'provider',\n      key: 'provider',\n      render: (provider) => (\n        <Link\n          to={`/service-provider/${provider?.id}`}\n        >{`${provider?.first_name} ${provider?.last_name}`}</Link>\n      ),\n    },\n\n    {\n      title: 'Transaction Type',\n      dataIndex: 'transaction_type',\n      key: 'transaction_type',\n    },\n    {\n      title: 'Amount',\n      dataIndex: 'amount',\n      key: 'amount',\n      render: (amount) => `â‚¦${Number(amount).toLocaleString()}`,\n    },\n    {\n      title: 'Transaction Status',\n      dataIndex: 'transaction_status',\n      key: 'transaction_status',\n    },\n    {\n      title: 'Date Created',\n      dataIndex: 'created_at',\n      key: 'created_at',\n      render: (created_at) => (\n        <span style={{ whiteSpace: 'nowrap' }}> {moment(created_at).format('DD MMM YYYY')}</span>\n      ),\n    },\n    {\n      title: '',\n      key: 'description',\n      width: 200,\n      render: (category) => (\n        <div style={{ display: 'flex', gap: '.5rem' }}>\n          <Button\n            danger\n            loading={actionLoading}\n            onClick={() => {\n              handleDecline(category)\n            }}\n          >\n            Decline\n          </Button>\n          <Button\n            loading={actionLoading}\n            onClick={() => {\n              handleApprove(category)\n            }}\n          >\n            Approve\n          </Button>\n        </div>\n      ),\n    },\n  ].filter((item) => !item.hidden)\n\n  return (\n    <div>\n      <Table\n        columns={columns}\n        loading={loading}\n        pagination={data?.length > 10 ? true : false}\n        dataSource={data}\n        rowKey='id'\n        scroll={{ x: 'max-content' }}\n      />\n    </div>\n  )\n}\n\nexport default TransactionsTable\n\n// \"id\": 1,\n// \"provider_id\": 4,\n// \"transaction_type\": \"Deposit\",\n// \"transaction_status\": \"Pending\",\n// \"amount\": 3000,\n// \"description\": \"Money Added\",\n// \"deleted_at\": null,\n// \"created_at\": \"2022-09-18T14:57:32.000000Z\",\n// \"updated_at\": \"2022-09-18T14:57:32.000000Z\",\n// \"provider\": {\n//     \"id\": 4,\n//     \"first_name\": \"Justin\",\n//     \"last_name\": \"Bieber\",\n//     \"email\": \"folarin.tunji98@gmail.com\",\n//     \"phone_number\": null,\n//     \"username\": \"Justin9991\",\n//     \"email_verified_at\": \"2022-09-16T11:30:04.000000Z\",\n//     \"account_verified_at\": \"2022-09-16 11:30:04\",\n//     \"user_type\": \"service_provider\",\n//     \"profile_photo_name\": \"francis_747688331.png\",\n//     \"profile_photo_url\": \"https://xpro.getshopeasy.com/storage/uploads/francis_747688331.png\",\n//     \"is_social\": \"0\",\n//     \"social_provider\": null,\n//     \"social_provider_id\": null,\n//     \"location\": null,\n//     \"about\": null,\n//     \"star_rating_count\": null,\n//     \"earnings\": null,\n//     \"created_at\": \"2022-09-16T11:30:04.000000Z\",\n//     \"updated_at\": \"2022-09-18T15:12:05.000000Z\"\n// }\n","import { notification, PageHeader } from 'antd'\nimport React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport TransactionsTable from './TransactionsTable'\nimport {\n  approveTransaction,\n  declineTransaction,\n  getAllTransaction,\n} from '../../redux/transactionSlice'\n\nconst Transactions = () => {\n  const { transactions } = useSelector((state) => state)\n  const dispatch = useDispatch()\n  const [confirmLoading, setConfirmLoading] = useState(false)\n\n  const handleApprove = ({ id }) => {\n    dispatch(approveTransaction(id))\n      .then((response) => {\n        setConfirmLoading(false)\n        if (response.type === 'transactions/approve/fulfilled') {\n          dispatch(getAllTransaction())\n          notification.success({\n            message: ' Transaction approved successfully',\n          })\n        } else if (response.type === 'transactions/approve/rejected') {\n          notification.error({\n            message: response?.payload?.message || 'Error approving transaction, please try again',\n          })\n        }\n      })\n      .catch((error) => {\n        setConfirmLoading(false)\n        notification.error({\n          message: 'Error approving transaction, please try again later',\n        })\n      })\n  }\n\n  const handleDecline = ({ id }) => {\n    dispatch(declineTransaction(id))\n      .then((response) => {\n        setConfirmLoading(false)\n        if (response.type === 'transactions/decline/fulfilled') {\n          dispatch(getAllTransaction())\n          notification.success({\n            message: ' Transaction declined successfully',\n          })\n        } else if (response.type === 'transactions/decline/rejected') {\n          notification.error({\n            message: response?.payload?.message || 'Error declining transaction, please try again',\n          })\n        }\n      })\n      .catch((error) => {\n        setConfirmLoading(false)\n        notification.error({\n          message: 'Error declining transaction, please try again later',\n        })\n      })\n  }\n\n  useEffect(() => {\n    dispatch(getAllTransaction())\n  }, [])\n\n  return (\n    <div>\n      <PageHeader title='Transactions' />\n      <TransactionsTable\n        parent={'transactions'}\n        data={transactions.data}\n        loading={transactions.loading}\n        handleDecline={handleDecline}\n        handleApprove={handleApprove}\n        actionLoading={confirmLoading}\n      />\n    </div>\n  )\n}\n\nexport default Transactions\n"],"names":["data","loading","handleDecline","parent","handleApprove","actionLoading","columns","title","dataIndex","key","render","provider","to","id","first_name","last_name","amount","Number","toLocaleString","created_at","style","whiteSpace","moment","format","width","category","display","gap","danger","onClick","filter","item","hidden","pagination","length","dataSource","rowKey","scroll","x","transactions","useSelector","state","dispatch","useDispatch","useState","confirmLoading","setConfirmLoading","useEffect","getAllTransaction","declineTransaction","then","response","type","notification","message","payload","catch","error","approveTransaction"],"sourceRoot":""}