"use strict";(self.webpackChunkxpro=self.webpackChunkxpro||[]).push([[244],{86244:function(n,e,t){t.r(e),t.d(e,{default:function(){return y}});var a=t(29439),r=t(13085),i=t(39609),o=t(72791),s=t(59434),c=t(87309),d=t(7262),l=t(72426),u=t.n(l),p=t(43504),f=t(80184),v=function(n){var e=n.data,t=n.loading,a=(n.parent,n.handleDecline),r=n.handleApprove,i=n.actionLoading,o=[{title:"Provider",dataIndex:"provider",key:"provider",render:function(n){return(0,f.jsx)(p.rU,{to:"/service-provider/".concat(null===n||void 0===n?void 0:n.id),children:"".concat(null===n||void 0===n?void 0:n.first_name," ").concat(null===n||void 0===n?void 0:n.last_name)})}},{title:"Transaction Type",dataIndex:"transaction_type",key:"transaction_type"},{title:"Amount",dataIndex:"amount",key:"amount",render:function(n){return"\u20a6".concat(Number(n).toLocaleString())}},{title:"Transaction Status",dataIndex:"transaction_status",key:"transaction_status"},{title:"Date Created",dataIndex:"created_at",key:"created_at",render:function(n){return(0,f.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[" ",u()(n).format("DD MMM YYYY")]})}},{title:"",key:"description",width:200,render:function(n){return(0,f.jsxs)("div",{style:{display:"flex",gap:".5rem"},children:[(0,f.jsx)(c.Z,{danger:!0,loading:i,onClick:function(){a(n)},children:"Decline"}),(0,f.jsx)(c.Z,{loading:i,onClick:function(){r(n)},children:"Approve"})]})}}].filter((function(n){return!n.hidden}));return(0,f.jsx)("div",{children:(0,f.jsx)(d.Z,{columns:o,loading:t,pagination:(null===e||void 0===e?void 0:e.length)>10,dataSource:e,rowKey:"id",scroll:{x:"max-content"}})})},g=t(49723),y=function(){var n=(0,s.v9)((function(n){return n})).transactions,e=(0,s.I0)(),t=(0,o.useState)(!1),c=(0,a.Z)(t,2),d=c[0],l=c[1];return(0,o.useEffect)((function(){e((0,g.X8)())}),[]),(0,f.jsxs)("div",{children:[(0,f.jsx)(i.Z,{title:"Transactions"}),(0,f.jsx)(v,{parent:"transactions",data:n.data,loading:n.loading,handleDecline:function(n){var t=n.id;e((0,g.sf)(t)).then((function(n){if(l(!1),"transactions/decline/fulfilled"===n.type)e((0,g.X8)()),r.Z.success({message:" Transaction declined successfully"});else if("transactions/decline/rejected"===n.type){var t;r.Z.error({message:(null===n||void 0===n||null===(t=n.payload)||void 0===t?void 0:t.message)||"Error declining transaction, please try again"})}})).catch((function(n){l(!1),r.Z.error({message:"Error declining transaction, please try again later"})}))},handleApprove:function(n){var t=n.id;e((0,g.Jz)(t)).then((function(n){if(l(!1),"transactions/approve/fulfilled"===n.type)e((0,g.X8)()),r.Z.success({message:" Transaction approved successfully"});else if("transactions/approve/rejected"===n.type){var t;r.Z.error({message:(null===n||void 0===n||null===(t=n.payload)||void 0===t?void 0:t.message)||"Error approving transaction, please try again"})}})).catch((function(n){l(!1),r.Z.error({message:"Error approving transaction, please try again later"})}))},actionLoading:d})]})}}}]);
//# sourceMappingURL=244.59d4c1f7.chunk.js.map